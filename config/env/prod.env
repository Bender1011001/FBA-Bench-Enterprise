# FBA-Bench Production Environment (Hardened)
ENVIRONMENT=production

# Auth: enabled with docs protection
AUTH_ENABLED=true
AUTH_TEST_BYPASS=false
AUTH_PROTECT_DOCS=true
AUTH_JWT_ALG=RS256
# Provide an RSA public key (PEM as \n-escaped) OR a mounted file via AUTH_JWT_PUBLIC_KEY_FILE
# Example inline:
# AUTH_JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\nREPLACE_ME\n-----END PUBLIC KEY-----"
# Or file path (recommended, mount secret at runtime):
# AUTH_JWT_PUBLIC_KEY_FILE=/run/secrets/jwt_public_key.pem
# Optional:
# AUTH_JWT_ISSUER=https://auth.example.com
# AUTH_JWT_AUDIENCE=fba-bench
AUTH_JWT_CLOCK_SKEW=60

# CORS allow-list (explicit hostnames; wildcard is rejected in protected envs)
FBA_CORS_ALLOW_ORIGINS=https://app.fba.example.com,https://console.fba.example.com

# Global API rate limit
API_RATE_LIMIT=100/minute

# Enforce HTTPS redirect in protected environments (FastAPI middleware)
ENFORCE_HTTPS=true

# Database (Postgres recommended with TLS)
# Example (adjust host/user/password/db):
# DATABASE_URL=postgresql+asyncpg://fba_prod:REPLACE_ME_PASSWORD@prod-db.example.com:5432/fba_prod?sslmode=require

# Redis (prefer TLS rediss:// for managed Redis in production)
# If using the built-in redis service, ensure requirepass is set via REDIS_PASSWORD
# For managed Redis, include password and TLS, e.g.:
# FBA_BENCH_REDIS_URL=rediss://:REPLACE_ME_STRONG_PASSWORD@prod-redis.example.com:6380/0

# Logging
LOG_LEVEL=INFO