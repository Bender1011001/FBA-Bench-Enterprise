C:\Users\admin\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:252: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))
============================= test session starts =============================
platform win32 -- Python 3.13.5, pytest-8.3.4, pluggy-1.5.0 -- C:\ProgramData\anaconda3\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\admin\Desktop\GitHub-projects\fba\FBA-Bench-Enterprise\tests
configfile: pytest.ini
plugins: anyio-4.11.0, Faker-37.11.0, asyncio-1.2.0, cov-7.0.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 3 items

tests\test_conftest_integrity.py::test_db_session_fixture PASSED         [ 33%]
tests\test_conftest_integrity.py::test_test_user_fixture PASSED          [ 66%]
tests\test_conftest_integrity.py::test_client_fixture ERROR              [100%]

=================================== ERRORS ====================================
____________________ ERROR at setup of test_client_fixture ____________________

fixturedef = <FixtureDef argname='app' scope='session' baseid=''>
request = <SubRequest 'app' for <Function test_client_fixture>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)

..\..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:733: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
tests\conftest.py:38: in app
    from fba_bench_api.server.app_factory import create_app
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

    from __future__ import annotations
    
    import logging
    import os
    from typing import List
    
    from fastapi import FastAPI, Request  # type: ignore[reportMissingImports]
    from fastapi.middleware.cors import CORSMiddleware  # type: ignore[reportMissingImports]
    from fba_bench import __version__
    from fba_bench.core.logging import RequestIdMiddleware, setup_logging
    from opentelemetry import trace
>   from opentelemetry.exporter.otlp.proto.grpc.trace_exporter import OTLPSpanExporter
E   ModuleNotFoundError: No module named 'opentelemetry.exporter'

src\fba_bench_api\server\app_factory.py:12: ModuleNotFoundError
============================== warnings summary ===============================
test_conftest_integrity.py::test_client_fixture
  C:\ProgramData\anaconda3\Lib\site-packages\pythonjsonlogger\jsonlogger.py:11: DeprecationWarning: pythonjsonlogger.jsonlogger has been moved to pythonjsonlogger.json
    warnings.warn(

test_conftest_integrity.py::test_client_fixture
  C:\Users\admin\Desktop\GitHub-projects\fba\FBA-Bench-Enterprise\src\fba_bench_core\core\fba_types.py:155: DeprecationWarning: The 'money' package is deprecated; use 'fba_bench_core.money'. This shim will be removed in a future release.
    from money import Money

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
ERROR tests\test_conftest_integrity.py::test_client_fixture - ModuleNotFoundE...
=================== 2 passed, 2 warnings, 1 error in 0.71s ====================
