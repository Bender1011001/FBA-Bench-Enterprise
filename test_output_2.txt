C:\Users\admin\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:252: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))
============================= test session starts =============================
platform win32 -- Python 3.13.5, pytest-8.3.4, pluggy-1.5.0 -- C:\ProgramData\anaconda3\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\admin\GitHub-projects\fba\FBA-Bench-Enterprise\tests
configfile: pytest.ini
plugins: anyio-4.11.0, Faker-37.11.0, asyncio-1.2.0, cov-7.0.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 1 item

tests\integration\test_tier2_golden_master.py::test_create_enterprise_v1_0_baseline FAILED

================================== FAILURES ===================================
____________________ test_create_enterprise_v1_0_baseline _____________________

    @pytest.mark.asyncio
    async def test_create_enterprise_v1_0_baseline():
        """
        Runs the Tier 2 detailed scenario ("supply chain crisis") and saves the
        results as the 'Enterprise Version 1.0 Baseline'.
        """
        scenario_data = load_tier2_scenario()
    
        # Extract config
        # Duration is in days in the yaml
        duration_days = scenario_data.get("expected_duration", 180)
    
        # Use a fixed seed for the Golden Master
        seed = 42
    
        # Configure simulation
        # Note: sim_factory uses SimulationConfig internally.
        # We depend on sim_factory fixture which is defined in conftest or similar,
        # but here we might need to use the one from test_reproducibility.py or define our own.
        # To avoid dependency issues, I'll instantiate the stack mostly manually or use the fixture if available.
        # But sim_factory is defined in test_reproducibility.py usually.
        # Let's import the specific factory if possible or copy the logic.
        # In integration tests, we usually have access to 'create_test_simulation' from IntegrationTestSuite.
        # But verify_golden_masters runs specific files.
    
        # Let's try to do it cleanly using the orchestration classes directly
        # to ensure we have full control over event injection.
    
>       config = SimulationConfig(
            seed=seed,
            days=duration_days,
            tick_interval_seconds=0.01,
            time_acceleration=100.0
        )
E       TypeError: SimulationConfig.__init__() got an unexpected keyword argument 'days'

tests\integration\test_tier2_golden_master.py:44: TypeError
============================== warnings summary ===============================
src\fba_bench_api\models\agents.py:7
  C:\Users\admin\GitHub-projects\fba\FBA-Bench-Enterprise\src\fba_bench_api\models\agents.py:7: DeprecationWarning: The legacy schema-based configuration system in 'benchmarking.config' is deprecated and will be removed in a future version. Please use the Pydantic-based configuration models (e.g., PydanticBenchmarkConfig) instead.
    from benchmarking.config.pydantic_config import UnifiedAgentRunnerConfig

src\fba_events\adversarial.py:9
  C:\Users\admin\GitHub-projects\fba\FBA-Bench-Enterprise\src\fba_events\adversarial.py:9: DeprecationWarning: The 'money' package is deprecated; use 'fba_bench_core.money'. This shim will be removed in a future release.
    from money import Money

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED tests\integration\test_tier2_golden_master.py::test_create_enterprise_v1_0_baseline
======================== 1 failed, 2 warnings in 0.77s ========================
